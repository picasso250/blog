正则表达式的懒惰模式、贪婪模式及回溯
=================================

用正则表达式 `/ab+/` 去匹配字符串 `"abbb"` 会匹配到什么？

也许有人会觉得应该匹配到 `ab` ，实际上，匹配的是整个字符串。正则表达式的默认行为模式是匹配尽可能多的字符，这种行为称之为 **贪婪** 。如果你想匹配尽可能少的字符，应该用这个正则 `/ab+?/` 。这里的 `?` 叫 **懒惰修饰符** 。懒惰修饰符不仅可以修饰 `+` `*` ，还可以修饰数量描述。比如 `/a{3,8}?/` 会匹配大于3个的尽可能少的 a 。

如果用 `/ab+c/` 去匹配字符串 `abbbc` 会发生什么？

首先，匹配 `a` ，匹配成功，接着匹配 `b` ，也匹配成功。接着匹配同一个字符 `b` ，匹配成功。如是者三。现在到了字符串中的最后一个字符 `c` ，但正则会继续用 `b` 匹配（贪婪），结果，匹配失败。这个时候，正则解析器是不会声称匹配失败的。解析器会退回一个字符，然后用 `c` 去匹配。结果匹配成功，于是匹配结束。

在上述匹配过程中，退回字符的过程就称之为 **回溯** 。

如果用 `/ab+?c/` 去匹配字符串 `abbbc` 会发生什么？

这次和上次不一样，这次是懒惰模式。但前面是一样的。不一样的仅仅是回溯的时机。当解析器匹配成功第一个 `b` 之后，接着会用 `c` 匹配下一个字符。匹配失败。不过，解析器不会气馁。解析器会用 `b` 重新匹配这个字符，匹配成功，然后，解析器又一次试图匹配 `c` ，结果失败。如是者三，最后匹配成功整个字符串。

虽然这两次匹配结果都是成功匹配整个字符串，但是匹配的过程不同。